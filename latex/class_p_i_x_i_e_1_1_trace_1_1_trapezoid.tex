\doxysection{PIXIE\+::Trace\+::Trapezoid Class Reference}
\hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid}{}\label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}


{\ttfamily \#include $<$trace\+\_\+algorithms.\+hh$>$}

Inheritance diagram for PIXIE\+::Trace\+::Trapezoid\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_p_i_x_i_e_1_1_trace_1_1_trapezoid}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a7a5d35e6e5b6c79e62856f74f559861d}{Load}} (const char \texorpdfstring{$\ast$}{*}file, int index)
\item 
std\+::vector$<$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_measurement}{Measurement}} $>$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac5d8fa6692cef0675a261c191e856fb8}{Process}} (uint16\+\_\+t \texorpdfstring{$\ast$}{*}trace, int length)
\item 
std\+::vector$<$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_measurement}{Measurement}} $>$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a51cca59d8c13a43f3cf01f1eae8353a8}{Prototype}} ()
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aa3cfc78f38f2c9f7ed09a3d7619b7db2}{dump\+Trace}} (uint16\+\_\+t \texorpdfstring{$\ast$}{*}trace, int trace\+Len, int n\+\_\+traces, std\+::string file\+Name, int append, std\+::string trace\+Name)
\item 
std\+::vector$<$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_measurement}{Measurement}} $>$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a795b286a8b183874822bfa1bc8292a18}{Trap\+Filter}} (uint16\+\_\+t \texorpdfstring{$\ast$}{*}trace, int length, int write=0)
\item 
double \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a00e96dba2654d6815574e4f5cd73931a}{Get\+Baseline}} (uint16\+\_\+t \texorpdfstring{$\ast$}{*}trace, int length)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}}
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}{fG}}
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}}
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}}
\item 
float \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a05c05dd147acad46cc9fc88b0ec44bd7}{tau}}
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a3e4714dc2551cbd6396ce3a5dbeac6f8}{D}}
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a0569baccfd2c27a8bae5b42b532ccba9}{S}}
\item 
float \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aebe5c3c6e03ebaf78d8e658132b75090}{ff\+Thr}}
\item 
float \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_abcd3c02217b2f785ab57c6b31ff9c29c}{cfd\+Thr}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm}{PIXIE\+::\+Trace\+::\+Algorithm}}}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a3a179dfa3c4c83f0750b0a205b55bb35}{good\+\_\+trace}}
\item 
int \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a0cd4fcab67f90370e5d485da02ee9934}{is\+\_\+loaded}} =false
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00022}{22}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aa3cfc78f38f2c9f7ed09a3d7619b7db2}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!dumpTrace@{dumpTrace}}
\index{dumpTrace@{dumpTrace}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{dumpTrace()}{dumpTrace()}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aa3cfc78f38f2c9f7ed09a3d7619b7db2} 
int PIXIE\+::\+Trace\+::\+Trapezoid\+::dump\+Trace (\begin{DoxyParamCaption}\item[{uint16\+\_\+t \texorpdfstring{$\ast$}{*}}]{trace}{, }\item[{int}]{trace\+Len}{, }\item[{int}]{n\+\_\+traces}{, }\item[{std\+::string}]{file\+Name}{, }\item[{int}]{append}{, }\item[{std\+::string}]{trace\+Name}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a03f21dc897a2dcd2a2391964756c9737}{PIXIE\+::\+Trace\+::\+Algorithm}}.



Reimplemented in \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_q_d_c_aab796d1e25b9d22af0a354a332a0be10}{PIXIE\+::\+Trace\+::\+Trapezoid\+QDC}}.



Definition at line \mbox{\hyperlink{trace__algorithms_8cc_source_l00236}{236}} of file \mbox{\hyperlink{trace__algorithms_8cc_source}{trace\+\_\+algorithms.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#if\ ROOT\_COMPILE\ ==\ 1}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ TFile\ *outFile;}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (append==1)\{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ outFile\ =\ \textcolor{keyword}{new}\ TFile(fileName.c\_str(),\ \textcolor{stringliteral}{"{}UPDATE"{}});}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ outFile\ =\ \textcolor{keyword}{new}\ TFile(fileName.c\_str(),\ \textcolor{stringliteral}{"{}RECREATE"{}});}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00245\ \ \ \ \ \ \ }
\DoxyCodeLine{00246\ \ \ \ \ \ \ \textcolor{comment}{//write\ trace\ +\ anything\ else\ to\ file}}
\DoxyCodeLine{00247\ \ \ \ \ \ \ TH1D\ *HTrace=\textcolor{keyword}{new}\ TH1D((traceName+std::to\_string(n\_traces)).c\_str(),(traceName+std::to\_string(n\_traces)).c\_str(),traceLen,0,traceLen);}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i=0;i<traceLen;i++)\{}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ HTrace-\/>AddBinContent(i,trace[i]-\/trace[0]);}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ HTrace-\/>Write();}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a795b286a8b183874822bfa1bc8292a18}{Trapezoid::TrapFilter}}(trace,\ traceLen,1);}
\DoxyCodeLine{00253\ \ \ \ \ \ \ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \textcolor{comment}{//Close\ File}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ outFile-\/>Purge();}
\DoxyCodeLine{00256\ \ \ \ \ \ \ outFile-\/>Close();}
\DoxyCodeLine{00257\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00259\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a00e96dba2654d6815574e4f5cd73931a}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!GetBaseline@{GetBaseline}}
\index{GetBaseline@{GetBaseline}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{GetBaseline()}{GetBaseline()}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a00e96dba2654d6815574e4f5cd73931a} 
double PIXIE\+::\+Trace\+::\+Trapezoid\+::\+Get\+Baseline (\begin{DoxyParamCaption}\item[{uint16\+\_\+t \texorpdfstring{$\ast$}{*}}]{trace}{, }\item[{int}]{length}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{trace__algorithms_8cc_source_l00095}{95}} of file \mbox{\hyperlink{trace__algorithms_8cc_source}{trace\+\_\+algorithms.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ mean=0;}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \textcolor{comment}{//Baseline\ -\/\ get\ a\ better\ algorithm\ for\ this\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ k=0;k<40;k++)\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ mean\ +=\ trace[k];}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00101\ \ \ \ \ \ \ mean\ =\ mean/40;}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mean;}
\DoxyCodeLine{00104\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a7a5d35e6e5b6c79e62856f74f559861d}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!Load@{Load}}
\index{Load@{Load}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{Load()}{Load()}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a7a5d35e6e5b6c79e62856f74f559861d} 
void PIXIE\+::\+Trace\+::\+Trapezoid\+::\+Load (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{file}{, }\item[{int}]{index}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a507daabea5816729273219e9d310b695}{PIXIE\+::\+Trace\+::\+Algorithm}}.



Reimplemented in \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_q_d_c_af392010e0ddd84193a52d47b1e45defe}{PIXIE\+::\+Trace\+::\+Trapezoid\+QDC}}.



Definition at line \mbox{\hyperlink{trace__algorithms_8cc_source_l00048}{48}} of file \mbox{\hyperlink{trace__algorithms_8cc_source}{trace\+\_\+algorithms.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ FILE\ *fpr\ =\ fopen(filename,\ \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fpr!=NULL)\{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ line[200];}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ ind=-\/1;}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (fgets(line,\ 200,\ fpr)!=0)\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}(line[0])\{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\ '}:}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)t'}:}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\(\backslash\)n'}:}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\#'}:}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ sscanf(line,\textcolor{stringliteral}{"{}\%d\ \%d\ \%d\ \%d\ \%d\ \%f\ \%d\ \%d\ \%f\ \%f"{}},\&ind,\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}{fG}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a05c05dd147acad46cc9fc88b0ec44bd7}{tau}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a3e4714dc2551cbd6396ce3a5dbeac6f8}{D}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a0569baccfd2c27a8bae5b42b532ccba9}{S}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aebe5c3c6e03ebaf78d8e658132b75090}{ffThr}},\&\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_abcd3c02217b2f785ab57c6b31ff9c29c}{cfdThr}});}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ ind\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}{fG}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a05c05dd147acad46cc9fc88b0ec44bd7}{tau}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a3e4714dc2551cbd6396ce3a5dbeac6f8}{D}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a0569baccfd2c27a8bae5b42b532ccba9}{S}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aebe5c3c6e03ebaf78d8e658132b75090}{ffThr}}\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_abcd3c02217b2f785ab57c6b31ff9c29c}{cfdThr}}\ <<\ std::endl;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ind\ ==\ index)\ \{\ \textcolor{keywordflow}{break};\ \}}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ fclose(fpr);}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a0cd4fcab67f90370e5d485da02ee9934}{is\_loaded}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%sUnable\ to\ open\ file\ \%s,\ traces\ will\ not\ be\ processed\%s\(\backslash\)n"{}},\mbox{\hyperlink{colors_8hh_a34995b955465f6bbb37c359173d50477}{ANSI\_COLOR\_RED}},\ filename,\ \mbox{\hyperlink{colors_8hh_a92a364c2b863dde1a024a77eac2a5b3b}{ANSI\_COLOR\_RESET}});}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00072\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac5d8fa6692cef0675a261c191e856fb8}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!Process@{Process}}
\index{Process@{Process}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{Process()}{Process()}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac5d8fa6692cef0675a261c191e856fb8} 
std\+::vector$<$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_measurement}{Measurement}} $>$ PIXIE\+::\+Trace\+::\+Trapezoid\+::\+Process (\begin{DoxyParamCaption}\item[{uint16\+\_\+t \texorpdfstring{$\ast$}{*}}]{trace}{, }\item[{int}]{length}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a74e1daba588fc6a054bc45d8f85b2aad}{PIXIE\+::\+Trace\+::\+Algorithm}}.



Reimplemented in \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_q_d_c_ab0fc04f3144e4272d6f42800c4dc4183}{PIXIE\+::\+Trace\+::\+Trapezoid\+QDC}}.



Definition at line \mbox{\hyperlink{trace__algorithms_8cc_source_l00089}{89}} of file \mbox{\hyperlink{trace__algorithms_8cc_source}{trace\+\_\+algorithms.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ std::vector<Measurement>\ retval;}
\DoxyCodeLine{00091\ \ \ \ \ \ \ retval\ =\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a795b286a8b183874822bfa1bc8292a18}{Trapezoid::TrapFilter}}(trace,\ length);}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{00093\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a51cca59d8c13a43f3cf01f1eae8353a8}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!Prototype@{Prototype}}
\index{Prototype@{Prototype}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{Prototype()}{Prototype()}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a51cca59d8c13a43f3cf01f1eae8353a8} 
std\+::vector$<$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_measurement}{Measurement}} $>$ PIXIE\+::\+Trace\+::\+Trapezoid\+::\+Prototype (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_aac695c0f7599c613b641d9b72dfa6dd7}{PIXIE\+::\+Trace\+::\+Algorithm}}.



Reimplemented in \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_q_d_c_a69db32f78148ec967fa97e969b34df89}{PIXIE\+::\+Trace\+::\+Trapezoid\+QDC}}.



Definition at line \mbox{\hyperlink{trace__algorithms_8cc_source_l00074}{74}} of file \mbox{\hyperlink{trace__algorithms_8cc_source}{trace\+\_\+algorithms.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ std::vector<Measurement>\ retval;}
\DoxyCodeLine{00076\ \ \ \ \ \ \ Measurement\ tcp(\textcolor{stringliteral}{"{}TraceTCP"{}},\ 0);}
\DoxyCodeLine{00077\ \ \ \ \ \ \ Measurement\ zcp(\textcolor{stringliteral}{"{}TraceZCP"{}},\ 0);}
\DoxyCodeLine{00078\ \ \ \ \ \ \ Measurement\ cfd(\textcolor{stringliteral}{"{}TraceCFD"{}},\ 0);}
\DoxyCodeLine{00079\ \ \ \ \ \ \ Measurement\ energy(\textcolor{stringliteral}{"{}TraceEnergy"{}},\ 0);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \ \ retval.push\_back(tcp);}
\DoxyCodeLine{00082\ \ \ \ \ \ \ retval.push\_back(zcp);}
\DoxyCodeLine{00083\ \ \ \ \ \ \ retval.push\_back(cfd);}
\DoxyCodeLine{00084\ \ \ \ \ \ \ retval.push\_back(energy);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{00087\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a795b286a8b183874822bfa1bc8292a18}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!TrapFilter@{TrapFilter}}
\index{TrapFilter@{TrapFilter}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{TrapFilter()}{TrapFilter()}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a795b286a8b183874822bfa1bc8292a18} 
std\+::vector$<$ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_measurement}{Measurement}} $>$ PIXIE\+::\+Trace\+::\+Trapezoid\+::\+Trap\+Filter (\begin{DoxyParamCaption}\item[{uint16\+\_\+t \texorpdfstring{$\ast$}{*}}]{trace}{, }\item[{int}]{length}{, }\item[{int}]{write}{ = {\ttfamily 0}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{trace__algorithms_8cc_source_l00105}{105}} of file \mbox{\hyperlink{trace__algorithms_8cc_source}{trace\+\_\+algorithms.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a3a179dfa3c4c83f0750b0a205b55bb35}{good\_trace}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ std::vector<Measurement>\ retval;}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ P;}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ M;}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ BL[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ CFD[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sD[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sP[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sR[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sTrap[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ fD[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ fP[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ fR[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ fTrap[length];\textcolor{comment}{//=\{0\};}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ TCP\ =\ -\/1;}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ ZCP\ =\ -\/1;}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ cfd\_frac\ =\ -\/1;}
\DoxyCodeLine{00125\ \ \ \ \ \ \ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ ffTrig\ =0,\ cfdTrig=0;}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \ \ \textcolor{comment}{//Pole-\/zero\ correction\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a05c05dd147acad46cc9fc88b0ec44bd7}{tau}}==-\/1)\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ P=0;M=1;}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ P=1;}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ M=1/(std::exp(1/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a05c05dd147acad46cc9fc88b0ec44bd7}{tau}}))-\/1);}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ mean\ =\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a00e96dba2654d6815574e4f5cd73931a}{Trapezoid::GetBaseline}}(trace,\ length);}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \textcolor{comment}{//Trapezoid\ filter\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ k=0;k<length;k++)\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ BL[k]=trace[k]-\/mean;}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ sD[k]=BL[k];}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ fD[k]=BL[k];}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}}>=0)\ \{\ sD[k]\ -\/=\ BL[k-\/\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}}];\ \}}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}}>=0)\ \{\ fD[k]\ -\/=\ BL[k-\/\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}}];\ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}}+\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}})>=0)\ \{\ sD[k]\ -\/=\ BL[k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}}+\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}})];\ \}}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}{fG}}+\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}})>=0)\ \{\ fD[k]\ -\/=\ BL[k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}{fG}}+\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}})];\ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}}+2*\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}})>=0)\ \{\ sD[k]\ +=\ BL[k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}}+2*\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}})];\ \}}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}{fG}}+2*\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}})>=0)\ \{\ fD[k]\ +=\ BL[k-\/(\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}{fG}}+2*\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}{fL}})];\ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ sP[k]=\ sD[k];}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ fP[k]=\ fD[k];}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/1>=0)\ \{\ sP[k]\ +=\ sP[k-\/1];\ \}}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/1>=0)\ \{\ fP[k]\ +=\ fP[k-\/1];\ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ sR[k]\ =\ P*sP[k]\ +\ M*sD[k];}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ fR[k]\ =\ P*fP[k]\ +\ M*fD[k];}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ sTrap[k]\ =\ sR[k]/(M*\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}});}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ fTrap[k]\ =\ fR[k]/(M);}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/1>=0)\ \{\ sTrap[k]\ +=\ sTrap[k-\/1];\ \}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (k-\/1>=0)\ \{\ fTrap[k]\ +=\ fTrap[k-\/1];\ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ CFD[k]\ =\ (1-\/\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a0569baccfd2c27a8bae5b42b532ccba9}{S}}/8)*fTrap[k]\ -\/\ fTrap[k-\/\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a3e4714dc2551cbd6396ce3a5dbeac6f8}{D}}];}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Find\ fast\ trigger\ and\ CFD\ values\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fTrap[k-\/1]<=\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aebe5c3c6e03ebaf78d8e658132b75090}{ffThr}}\ \&\&\ fTrap[k]>\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aebe5c3c6e03ebaf78d8e658132b75090}{ffThr}}\ \&\&\ ffTrig==0)\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ TCP\ =\ k-\/1;}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ ffTrig=1;}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (CFD[k-\/1]<=\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_abcd3c02217b2f785ab57c6b31ff9c29c}{cfdThr}}\ \&\&\ CFD[k]>\mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_abcd3c02217b2f785ab57c6b31ff9c29c}{cfdThr}}\ \&\&\ cfdTrig==0)\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ cfdTrig=1;}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (CFD[k-\/1]*CFD[k]<0\ \&\&\ cfdTrig==1\ \&\&\ ffTrig==1\ \&\&\ k>TCP\ \&\&\ ZCP==-\/1)\ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ ZCP=k-\/1;}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ZCP==-\/1)\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ cfd\_frac\ =\ -\/1;}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ cfd\_frac\ =\ (32768*CFD[ZCP]/(CFD[ZCP]-\/CFD[ZCP+1]));}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ retval.emplace\_back(\textcolor{stringliteral}{"{}TraceTCP"{}},\ TCP);}
\DoxyCodeLine{00192\ \ \ \ \ \ \ retval.emplace\_back(\textcolor{stringliteral}{"{}TraceZCP"{}},\ ZCP);}
\DoxyCodeLine{00193\ \ \ \ \ \ \ retval.emplace\_back(\textcolor{stringliteral}{"{}TraceCFD"{}},\ cfd\_frac);}
\DoxyCodeLine{00194\ \ \ \ \ \ \ retval.emplace\_back(\textcolor{stringliteral}{"{}TraceEnergy"{}},\ sTrap[TCP\ +\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}{sL}}\ +\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}{sG}}\ -\/1]);}
\DoxyCodeLine{00195\ \ \ \ \ \ \ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (TCP\ >\ 0)\ \{\ \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm_a3a179dfa3c4c83f0750b0a205b55bb35}{good\_trace}}\ =\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (write\ ==\ 1)\{}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \textcolor{preprocessor}{\#if\ ROOT\_COMPILE\ ==\ 1}}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Draw\ trap\ filter\ \ \ \ \ \ }}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ TMultiGraph\ *mgSlow\ =\ \textcolor{keyword}{new}\ TMultiGraph(\textcolor{stringliteral}{"{}SlowTrap"{}},\textcolor{stringliteral}{"{}SlowTrap"{}});}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ TMultiGraph\ *mgFast\ =\ \textcolor{keyword}{new}\ TMultiGraph(\textcolor{stringliteral}{"{}FastTrap"{}},\textcolor{stringliteral}{"{}FastTrap"{}});}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ TMultiGraph\ *mgCFD\ =\ \textcolor{keyword}{new}\ TMultiGraph(\textcolor{stringliteral}{"{}CFD"{}},\textcolor{stringliteral}{"{}CFD"{}});}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ TGraph\ *slowTrap\ =\ \textcolor{keyword}{new}\ TGraph();}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ TGraph\ *fastTrap\ =\ \textcolor{keyword}{new}\ TGraph();}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ TGraph\ *cfd\ =\ \textcolor{keyword}{new}\ TGraph();}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ slowTrap-\/>SetLineColor(kRed);}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ fastTrap-\/>SetLineColor(kBlue);}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ cfd-\/>SetLineColor(kGreen);}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ slowTrap-\/>SetLineWidth(2);}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ fastTrap-\/>SetLineWidth(2);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ cfd-\/>SetLineWidth(2);}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ k\ =0\ ;k<length;k++)\{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ slowTrap-\/>SetPoint(k,k,sTrap[k]);}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ fastTrap-\/>SetPoint(k,k,fTrap[k]);}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ cfd-\/>SetPoint(k,k,CFD[k]);}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ mgSlow-\/>Add(slowTrap);}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ mgFast-\/>Add(fastTrap);}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ mgCFD-\/>Add(cfd);}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ mgSlow-\/>Write();}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ mgFast-\/>Write();}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ mgCFD-\/>Write();}
\DoxyCodeLine{00231\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retval;}
\DoxyCodeLine{00234\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_abcd3c02217b2f785ab57c6b31ff9c29c}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!cfdThr@{cfdThr}}
\index{cfdThr@{cfdThr}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{cfdThr}{cfdThr}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_abcd3c02217b2f785ab57c6b31ff9c29c} 
float PIXIE\+::\+Trace\+::\+Trapezoid\+::cfd\+Thr}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00033}{33}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a3e4714dc2551cbd6396ce3a5dbeac6f8}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!D@{D}}
\index{D@{D}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{D}{D}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a3e4714dc2551cbd6396ce3a5dbeac6f8} 
int PIXIE\+::\+Trace\+::\+Trapezoid\+::D}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00030}{30}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aebe5c3c6e03ebaf78d8e658132b75090}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!ffThr@{ffThr}}
\index{ffThr@{ffThr}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{ffThr}{ffThr}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_aebe5c3c6e03ebaf78d8e658132b75090} 
float PIXIE\+::\+Trace\+::\+Trapezoid\+::ff\+Thr}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00032}{32}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!fG@{fG}}
\index{fG@{fG}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{fG}{fG}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ac2acbbb289bfb291f8ad3f02c23d97b1} 
int PIXIE\+::\+Trace\+::\+Trapezoid\+::fG}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00026}{26}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!fL@{fL}}
\index{fL@{fL}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{fL}{fL}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_ae12b21d1f5a546e1fc560af9b848b1e3} 
int PIXIE\+::\+Trace\+::\+Trapezoid\+::fL}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00025}{25}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a0569baccfd2c27a8bae5b42b532ccba9}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!S@{S}}
\index{S@{S}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{S}{S}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a0569baccfd2c27a8bae5b42b532ccba9} 
int PIXIE\+::\+Trace\+::\+Trapezoid\+::S}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00031}{31}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!sG@{sG}}
\index{sG@{sG}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{sG}{sG}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a89e14d45faf34067d08ed11f5ca89cb4} 
int PIXIE\+::\+Trace\+::\+Trapezoid\+::sG}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00028}{28}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!sL@{sL}}
\index{sL@{sL}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{sL}{sL}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a24bbb5f118d7127ebedede680dbef4fd} 
int PIXIE\+::\+Trace\+::\+Trapezoid\+::sL}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00027}{27}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.

\Hypertarget{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a05c05dd147acad46cc9fc88b0ec44bd7}\index{PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}!tau@{tau}}
\index{tau@{tau}!PIXIE::Trace::Trapezoid@{PIXIE::Trace::Trapezoid}}
\doxysubsubsection{\texorpdfstring{tau}{tau}}
{\footnotesize\ttfamily \label{class_p_i_x_i_e_1_1_trace_1_1_trapezoid_a05c05dd147acad46cc9fc88b0ec44bd7} 
float PIXIE\+::\+Trace\+::\+Trapezoid\+::tau}



Definition at line \mbox{\hyperlink{trace__algorithms_8hh_source_l00029}{29}} of file \mbox{\hyperlink{trace__algorithms_8hh_source}{trace\+\_\+algorithms.\+hh}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\mbox{\hyperlink{trace__algorithms_8hh}{trace\+\_\+algorithms.\+hh}}\item 
src/\mbox{\hyperlink{trace__algorithms_8cc}{trace\+\_\+algorithms.\+cc}}\end{DoxyCompactItemize}
