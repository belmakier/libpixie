\hypertarget{experiment__definition_8hh_source}{}\doxysection{experiment\+\_\+definition.\+hh}
\label{experiment__definition_8hh_source}\index{src/experiment\_definition.hh@{src/experiment\_definition.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// -\/*-\/c++-\/*-\/}}
\DoxyCodeLine{2 \textcolor{comment}{/* libpixie.h, for reading a pixie event */}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef LIBPIXIE\_EXPERIMENT\_DEFINITION\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define LIBPIXIE\_EXPERIMENT\_DEFINITION\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <unordered\_map>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <set>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}traces.hh"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}definitions.hh"{}}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{namespace }PIXIE \{}
\DoxyCodeLine{20   \textcolor{keyword}{class }\mbox{\hyperlink{class_p_i_x_i_e_1_1_experiment___definition}{Experiment\_Definition}} \{}
\DoxyCodeLine{21   \textcolor{keyword}{public}:    }
\DoxyCodeLine{22     FILE *file;   \textcolor{comment}{//experimental definition, ASCII}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_channel}{Channel}} \{}
\DoxyCodeLine{25       \textcolor{keywordtype}{int} crateID;}
\DoxyCodeLine{26       \textcolor{keywordtype}{int} slotID;}
\DoxyCodeLine{27       \textcolor{keywordtype}{int} channelNumber;}
\DoxyCodeLine{28       \textcolor{keywordtype}{bool} qdcs;}
\DoxyCodeLine{29       \textcolor{keywordtype}{bool} eraw;}
\DoxyCodeLine{30       \textcolor{keywordtype}{bool} extwind;}
\DoxyCodeLine{31       \textcolor{keywordtype}{bool} traces;}
\DoxyCodeLine{32       std::string algName;}
\DoxyCodeLine{33       std::string algFile;}
\DoxyCodeLine{34       \textcolor{keywordtype}{int} algIndex;}
\DoxyCodeLine{35       \mbox{\hyperlink{class_p_i_x_i_e_1_1_trace_1_1_algorithm}{Trace::Algorithm}} *alg;}
\DoxyCodeLine{36       std::string name;}
\DoxyCodeLine{37       \textcolor{keywordtype}{bool} isTagger;}
\DoxyCodeLine{38       \textcolor{keywordtype}{bool} operator<(\textcolor{keyword}{const} \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_channel}{Channel}} \&other)\textcolor{keyword}{ const }\{\textcolor{keywordflow}{return} channelNumber < other.channelNumber; \}}
\DoxyCodeLine{39       \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_channel}{Channel}} \&other)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} !name.compare(other.name); \}}
\DoxyCodeLine{40       \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_channel}{Channel}}(\textcolor{keywordtype}{int} crID,}
\DoxyCodeLine{41               \textcolor{keywordtype}{int} slID,}
\DoxyCodeLine{42               \textcolor{keywordtype}{int} chN,}
\DoxyCodeLine{43               \textcolor{keywordtype}{bool} e,}
\DoxyCodeLine{44               \textcolor{keywordtype}{bool} q,}
\DoxyCodeLine{45               \textcolor{keywordtype}{bool} ext,}
\DoxyCodeLine{46               \textcolor{keywordtype}{bool} t,}
\DoxyCodeLine{47               std::string algN,}
\DoxyCodeLine{48               std::string algF,}
\DoxyCodeLine{49               \textcolor{keywordtype}{int} algI,}
\DoxyCodeLine{50           \textcolor{keywordtype}{bool} isTag) :}
\DoxyCodeLine{51         crateID(crID),}
\DoxyCodeLine{52         slotID(slID),}
\DoxyCodeLine{53         channelNumber(chN),}
\DoxyCodeLine{54         qdcs(q),}
\DoxyCodeLine{55         eraw(e),}
\DoxyCodeLine{56         extwind(ext),}
\DoxyCodeLine{57         traces(t),}
\DoxyCodeLine{58         algName(algN),}
\DoxyCodeLine{59         algFile(algF),}
\DoxyCodeLine{60         algIndex(algI),}
\DoxyCodeLine{61         alg(NULL),}
\DoxyCodeLine{62     isTagger(isTag)\{\};}
\DoxyCodeLine{63     \};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_slot}{Slot}} \{}
\DoxyCodeLine{66       \textcolor{keywordtype}{int} slotID;}
\DoxyCodeLine{67       \textcolor{keywordtype}{int} crateID;}
\DoxyCodeLine{68       \textcolor{keywordtype}{int} freq;}
\DoxyCodeLine{69       \textcolor{comment}{//std::unordered\_map<int, Channel*> channelMap;}}
\DoxyCodeLine{70       \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_channel}{Channel}} *channelMap[MAX\_CHANNELS\_PER\_BOARD];}
\DoxyCodeLine{71 }
\DoxyCodeLine{72       \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_slot}{Slot}}(\textcolor{keywordtype}{int} cID, \textcolor{keywordtype}{int} sID) : crateID(cID), slotID(sID) \{}
\DoxyCodeLine{73         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<MAX\_CHANNELS\_PER\_BOARD; ++i) \{}
\DoxyCodeLine{74           channelMap[i] = NULL;}
\DoxyCodeLine{75         \}}
\DoxyCodeLine{76       \};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78       \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_channel}{Channel}} *GetChannel(\textcolor{keywordtype}{int} channelNumber) \textcolor{keyword}{const};}
\DoxyCodeLine{79       \textcolor{keywordtype}{int} AddChannel(\textcolor{keywordtype}{int} channelNumber,}
\DoxyCodeLine{80                      \textcolor{keywordtype}{bool} eraw=\textcolor{keyword}{false},}
\DoxyCodeLine{81                      \textcolor{keywordtype}{bool} qdcs=\textcolor{keyword}{false},}
\DoxyCodeLine{82                      \textcolor{keywordtype}{bool} extwind=\textcolor{keyword}{true},}
\DoxyCodeLine{83                      \textcolor{keywordtype}{bool} traces=\textcolor{keyword}{false},}
\DoxyCodeLine{84                      std::string algName = \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{85                      std::string algFile = \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{86                      \textcolor{keywordtype}{int} algIndex = -\/1,}
\DoxyCodeLine{87              \textcolor{keywordtype}{bool} isTagger = \textcolor{keyword}{false});}
\DoxyCodeLine{88     \};}
\DoxyCodeLine{89 }
\DoxyCodeLine{90     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_crate}{Crate}} \{}
\DoxyCodeLine{91       \textcolor{keywordtype}{int} crateID;}
\DoxyCodeLine{92       \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_slot}{Slot}} *slotMap[MAX\_SLOTS\_PER\_CRATE];}
\DoxyCodeLine{93       \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_crate}{Crate}}(\textcolor{keywordtype}{int} cID) : crateID(cID) \{}
\DoxyCodeLine{94         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<MAX\_SLOTS\_PER\_CRATE; ++i) \{}
\DoxyCodeLine{95           slotMap[i] = NULL;}
\DoxyCodeLine{96         \}}
\DoxyCodeLine{97       \};}
\DoxyCodeLine{98 }
\DoxyCodeLine{99       \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_slot}{Slot}} *GetSlot(\textcolor{keywordtype}{int} slotID) \textcolor{keyword}{const};}
\DoxyCodeLine{100       \textcolor{keywordtype}{int} AddSlot(\textcolor{keywordtype}{int} slotID, \textcolor{keywordtype}{int} frequency);}
\DoxyCodeLine{101     \};}
\DoxyCodeLine{102     }
\DoxyCodeLine{103   \textcolor{keyword}{public}:    }
\DoxyCodeLine{104     \mbox{\hyperlink{struct_p_i_x_i_e_1_1_experiment___definition_1_1_crate}{Crate}} *crateMap[MAX\_CRATES];}
\DoxyCodeLine{105 }
\DoxyCodeLine{106   \textcolor{keyword}{public}:}
\DoxyCodeLine{107     \mbox{\hyperlink{class_p_i_x_i_e_1_1_experiment___definition}{Experiment\_Definition}}() : file(NULL) \{}
\DoxyCodeLine{108       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<MAX\_CRATES; ++i) \{}
\DoxyCodeLine{109         crateMap[i] = NULL;}
\DoxyCodeLine{110       \}}
\DoxyCodeLine{111     \};}
\DoxyCodeLine{112     \textcolor{keywordtype}{int} open(\textcolor{keyword}{const} std::string \&path);}
\DoxyCodeLine{113     \textcolor{keywordtype}{int} read();}
\DoxyCodeLine{114     \textcolor{keywordtype}{int} close() \{ fclose(this-\/>file); \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{115    }
\DoxyCodeLine{116     \textcolor{keywordtype}{int} AddChannel(\textcolor{keywordtype}{int} crateID,}
\DoxyCodeLine{117                    \textcolor{keywordtype}{int} slotID,}
\DoxyCodeLine{118                    \textcolor{keywordtype}{int} channelNumber,}
\DoxyCodeLine{119                    \textcolor{keywordtype}{bool} eraw=\textcolor{keyword}{false},}
\DoxyCodeLine{120                    \textcolor{keywordtype}{bool} qdcs=\textcolor{keyword}{false},}
\DoxyCodeLine{121                    \textcolor{keywordtype}{bool} extwind=\textcolor{keyword}{true},}
\DoxyCodeLine{122                    \textcolor{keywordtype}{bool} traces=\textcolor{keyword}{false},}
\DoxyCodeLine{123                    std::string algName = \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{124                    std::string algFile = \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{125                    \textcolor{keywordtype}{int} algIndex = -\/1,}
\DoxyCodeLine{126            \textcolor{keywordtype}{bool} isTagger=\textcolor{keyword}{false});}
\DoxyCodeLine{127     \textcolor{keywordtype}{int} AddSlot(\textcolor{keywordtype}{int} crateID, \textcolor{keywordtype}{int} slotID, \textcolor{keywordtype}{int} frequency);}
\DoxyCodeLine{128     \textcolor{keywordtype}{int} AddCrate(\textcolor{keywordtype}{int} crateID);}
\DoxyCodeLine{129     }
\DoxyCodeLine{130     Crate *GetCrate(\textcolor{keywordtype}{int} crateID) \textcolor{keyword}{const};}
\DoxyCodeLine{131     Slot *GetSlot(\textcolor{keywordtype}{int} crateID, \textcolor{keywordtype}{int} slotID) \textcolor{keyword}{const};}
\DoxyCodeLine{132     Channel *GetChannel(\textcolor{keywordtype}{int} crateID, \textcolor{keywordtype}{int} slotID, \textcolor{keywordtype}{int} channelNumber) \textcolor{keyword}{const};}
\DoxyCodeLine{133 }
\DoxyCodeLine{134     \textcolor{keywordtype}{int} set\_algorithms();}
\DoxyCodeLine{135     }
\DoxyCodeLine{136     \textcolor{keywordtype}{int} print();}
\DoxyCodeLine{137     \textcolor{keywordtype}{int} print(std::ostream \&out);}
\DoxyCodeLine{138 }
\DoxyCodeLine{139   \}; \textcolor{comment}{//Experiment\_Definition}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141 \} \textcolor{comment}{// namespace PIXIE}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//LIBPIXIE\_EXPERIMENT\_DEFINITION\_H}}

\end{DoxyCode}
